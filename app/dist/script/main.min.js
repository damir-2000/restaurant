"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}document.addEventListener("DOMContentLoaded",function(){for(var a=document.getElementsByTagName("img"),b=0;b<a.length;b++)a[b].setAttribute("ondragstart","return false");document.querySelector(".nav__burger").addEventListener("click",function(){this.classList.toggle("nav__burger_active"),document.querySelector(".nav__sidebar-wrapper").classList.toggle("nav__sidebar-wrapper_active"),document.querySelector(".nav").classList.toggle("nav_active"),document.querySelector("body").classList.toggle("inactive")});var c=document.querySelector(".header"),d=!1,e=300;window.addEventListener("scroll",function(){var a=document.querySelector(".discover").offsetHeight;window.scrollY>a-c.offsetHeight&&!d&&(d=!0,c.classList.add("header_active"),c.style.opacity=0,c.style.position="fixed",c.animate([{opacity:"0"},{opacity:"1"}],{duration:e}),c.style.opacity=1,console.log("dd")),window.scrollY<a-c.offsetHeight-100&&d&&(d=!1,c.style.opacity=1,c.animate([{opacity:"1"},{opacity:"0"}],{duration:e}),setTimeout(function(){c.style.position="absolute",c.classList.remove("header_active")},e))});var f=document.querySelector("body"),g=document.querySelector(".nav__user-menu-button"),h=document.querySelector(".nav__user-menu-list"),j=document.querySelectorAll(".theme-color__btn");g.addEventListener("click",function(){h.classList.toggle("nav__user-menu-list_active")}),null==localStorage.getItem("theme")?(f.classList.add("theme_green"),localStorage.setItem("theme","theme_green")):f.classList.add(localStorage.getItem("theme")),j.forEach(function(a){a.addEventListener("click",function(){h.classList.toggle("nav__user-menu-list_active"),j.forEach(function(a){f.classList.remove(a.getAttribute("color"))}),f.classList.add(a.getAttribute("color")),localStorage.setItem("theme",a.getAttribute("color"))})});var k=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),this.settingsCheck=function(a){return null!=b.settings[a]&&null!=b.settings[a]?b.settings[a]:this.settingsDefault[a]},this.selector={slider:document.querySelector(".".concat(b.selector.slider)),slide:document.querySelectorAll(".".concat(b.selector.slide)),track:document.querySelector(".".concat(b.selector.track)),btnPrev:document.querySelector(".".concat(b.selector.btnPrev)),btnNext:document.querySelector(".".concat(b.selector.btnNext)),draggable:document.querySelector(".".concat(b.selector.slider," .draggable")),slideClassName:b.selector.slide,sliderClassName:b.selector.slider},this.settingsDefault={slideToShow:1,/* slideToScroll пока не работает */slideToScroll:1,slideSpeed:500,infinity:!0,autoPlay:!1,autoPlaySpeed:3e3,responsive:0,swipe:!1,verticalSlider:!1},this.settingsReceive={slideToShow:this.settingsCheck("slideToShow"),slideToScroll:this.settingsCheck("slideToScroll"),slideSpeed:this.settingsCheck("slideSpeed"),infinity:this.settingsCheck("infinity"),autoPlay:this.settingsCheck("autoPlay"),autoPlaySpeed:this.settingsCheck("autoPlaySpeed"),swipe:this.settingsCheck("swipe"),verticalSlider:this.settingsCheck("verticalSlider")},this.settings={slideToShow:this.settingsCheck("slideToShow"),slideToScroll:this.settingsCheck("slideToScroll"),slideSpeed:this.settingsCheck("slideSpeed"),infinity:this.settingsCheck("infinity"),autoPlay:this.settingsCheck("autoPlay"),autoPlaySpeed:this.settingsCheck("autoPlaySpeed"),responsive:this.settingsCheck("responsive"),swipe:this.settingsCheck("swipe"),verticalSlider:this.settingsCheck("verticalSlider")},this.varReload=function(){return{slideLength:this.settings.infinity?this.selector.slide.length+this.settings.slideToShow:this.selector.slide.length,slideWidth:this.settings.verticalSlider?this.selector.slider.offsetWidth:this.selector.slider.offsetWidth/this.settings.slideToShow,slideHeight:this.selector.slide[0].offsetHeight,slideActiveName:"".concat(b.selector.slide,"_active"),trackWidth:this.settings.verticalSlider?this.selector.slider.offsetWidth:this.selector.slider.offsetWidth/this.settings.slideToShow*(this.selector.slide.length+(this.settings.infinity?this.settings.slideToShow:0)),trackHeight:this.selector.slide[0].offsetHeight*(this.selector.slide.length+(this.settings.infinity?this.settings.slideToShow:0)),trackStart:this.settings.infinity?this.settings.verticalSlider?-this.selector.slide[0].offsetHeight*this.settings.slideToShow:-this.selector.slider.offsetWidth:0,trackEnd:-(this.settings.verticalSlider?this.selector.slide[0].offsetHeight*(this.selector.slide.length+(this.settings.infinity?this.settings.slideToShow:0))-this.selector.slide[0].offsetHeight*this.settings.slideToShow:this.selector.slider.offsetWidth/this.settings.slideToShow*(this.selector.slide.length+(this.settings.infinity?this.settings.slideToShow:0))-this.selector.slider.offsetWidth),trackPosition:this.settings.infinity?this.settings.verticalSlider?-this.selector.slide[0].offsetHeight*this.settings.slideToShow:-this.selector.slider.offsetWidth:0,trackMoveDistance:(this.settings.verticalSlider?this.selector.slide[0].offsetHeight:this.selector.slider.offsetWidth/this.settings.slideToShow)*(this.settings.slideToScroll<=this.settings.slideToShow?this.settings.slideToScroll:this.settings.slideToShow)}},this["var"]=this.varReload(),this.screenWidth={max:window.screen.width,min:window.screen.width},this.innerWidth={max:window.innerWidth,min:window.innerWidth},this.timer,this.autoPlayOnOff=!0,this.start()}/* Запуск */return _createClass(a,[{key:"start",value:function start(){var a=this,b=document.createElement("div");b.classList.add("draggable"),this.selector.slider.append(b),this.selector.draggable=document.querySelector(".".concat(this.selector.sliderClassName," .draggable")),this.selector.draggable.append(this.selector.track),this.settings.swipe&&(this.selector.slider.style.cursor="grab");/* Добавляем атрибут слайду */for(var c=0;c<this.selector.slide.length;c++)this.selector.slide[c].setAttribute("slide",c);this.responsiveSettings(window.screen.availWidth),this.selector.btnPrev&&this.selector.btnPrev.addEventListener("click",function(){a.prev()}),this.selector.btnNext&&this.selector.btnNext.addEventListener("click",function(){a.next()}),this.settings.autoPlay&&(this.selector.track.addEventListener("mouseout",function(){a.autoPlayOnOff=!0,a.autoPlay()}),this.selector.track.addEventListener("mouseover",function(){a.autoPlayOnOff=!1,clearInterval(a.timer)})),window.addEventListener("resize",function(){a.screenWidth.min>window.screen.width||a.screenWidth.max<window.screen.width?(a.screenWidth.min=window.screen.width-10,a.screenWidth.max=window.screen.width+10,a.responsiveSettings(window.screen.width)):(a.innerWidth.min>window.innerWidth||a.innerWidth.max<window.innerWidth)&&(a.innerWidth.min=window.innerWidth-10,a.innerWidth.max=window.innerWidth+10,a.responsiveSettings(window.innerWidth))}),this.swipe(),this.addActiveClass(),this.autoPlay()}/* Задействует новые значение */},{key:"reloadSlider",value:function reloadSlider(){var a=this;if(this["var"]=this.varReload(),this.selector.track.style.display=this.settings.verticalSlider?"block":"flex",(this.settings.infinity||0==document.querySelectorAll(".".concat(this.selector.slideClassName,"_duplicate")).length)&&document.querySelectorAll(".".concat(this.selector.slideClassName,"_duplicate")).length==this.settings.slideToShow||document.querySelectorAll(".".concat(this.selector.slideClassName,"_duplicate")).forEach(function(a){a.remove()}),this.settings.infinity&&0==document.querySelectorAll(".".concat(this.selector.slideClassName,"_duplicate")).length)for(var b,c=this["var"].slideLength-this.settings.slideToShow-1;c>this["var"].slideLength-2*this.settings.slideToShow-1;c--)b=this.selector.slide[c].cloneNode(!0),b.classList.add("".concat(this.selector.slideClassName,"_duplicate")),this.selector.track.prepend(b);/* значения по умолчаню для Track*/this.selector.track.style.width="".concat(this["var"].trackWidth,"px"),this.selector.track.style.transition="".concat(this.settings.slideSpeed,"ms"),this.trackMove(this["var"].trackStart),document.querySelectorAll(".".concat(this.selector.slideClassName)).forEach(function(b){b.style.width="".concat(a["var"].slideWidth,"px")}),this.settings.verticalSlider?(this.selector.draggable.style.height="".concat(this.selector.slide[0].offsetHeight*this.settings.slideToShow,"px"),this.selector.track.style.height="".concat(this["var"].trackHeight,"px")):(this.selector.draggable.style.height="auto",this.selector.track.style.height="auto"),this["var"]=this.varReload(),this.addActiveClass()}/* Для адаптации, чтобы задействовать новые настройки  */},{key:"responsiveSettings",value:function responsiveSettings(a){var b=this;0!=this.settings.responsive&&(this.settings.responsive.forEach(function(c){a>c.breakpoint&&Object.keys(b.settingsReceive).forEach(function(a){b.settings[a]=b.settingsReceive[a]})}),this.settings.responsive.forEach(function(c){a<c.breakpoint&&Object.keys(c.settings).forEach(function(a){b.settings[a]=c.settings[a]})})),this.reloadSlider()}},{key:"trackMove",value:function trackMove(a){this.selector.track.style.transform=this.settings.verticalSlider?"translate3d(0, ".concat(a,"px, 0)"):"translate3d(".concat(a,"px, 0, 0)")}/* Переход на предыдущий слайд */},{key:"prev",value:function prev(){var a=this;clearInterval(this.timer),0==this["var"].trackPosition&&this.settings.infinity?this.infifnity(this["var"].trackEnd,0,function(){a["var"].trackPosition+=a["var"].trackMoveDistance,a.trackMove(a["var"].trackPosition)}):0>this["var"].trackPosition&&(this["var"].trackPosition+=this["var"].trackMoveDistance,this.trackMove(this["var"].trackPosition),this.settings.infinity&&0===this["var"].trackPosition&&this.infifnity(this["var"].trackEnd,this.settings.slideSpeed,function(){})),this.addActiveClass(),this.autoPlay()}/* Переход на следующий слайд */},{key:"next",value:function next(){var a=this;clearInterval(this.timer),this["var"].trackPosition==this["var"].trackEnd&&this.settings.infinity?this.infifnity(0,0,function(){a["var"].trackPosition-=a["var"].trackMoveDistance,a.trackMove(a["var"].trackPosition)}):this["var"].trackPosition>this["var"].trackEnd&&(this["var"].trackPosition-=this["var"].trackMoveDistance,this.trackMove(this["var"].trackPosition),this.addActiveClass(),this.settings.infinity&&this["var"].trackPosition==this["var"].trackEnd&&this.infifnity(0,this.settings.slideSpeed,function(){})),this.autoPlay()}/* функция для создание бесконечности слайдов */},{key:"infifnity",value:function infifnity(a,b,c){var d=this;setTimeout(function(){d["var"].trackPosition=a,d.selector.track.style.transition="0ms",d.trackMove(d["var"].trackPosition),setTimeout(function(){d.selector.track.style.transition="".concat(d.settings.slideSpeed,"ms"),c(),d.addActiveClass()},30)},b-30)}/* Автоплей */},{key:"autoPlay",value:function autoPlay(){var a=this;this.settings.autoPlay&&this.autoPlayOnOff&&(this.timer=setInterval(function(){a.next()},this.settings.autoPlaySpeed))}/* Добавляем актив классы */},{key:"addActiveClass",value:function addActiveClass(){for(var a=this,b=Math.floor(this.settings.verticalSlider?(this["var"].trackHeight-this["var"].trackPosition)/this["var"].slideHeight-this["var"].slideLength:(this["var"].trackWidth-this["var"].trackPosition)/this["var"].slideWidth-this["var"].slideLength),c=Math.floor((this.settings.verticalSlider?(this["var"].trackHeight-this["var"].trackPosition)/this["var"].slideHeight:(this["var"].trackWidth-this["var"].trackPosition)/this["var"].slideWidth)-this["var"].slideLength+this.settings.slideToShow-1),d=document.querySelectorAll(".".concat(this.selector.slideClassName)),e=0;e<d.length;e++)b<=e&&c>=e?document.querySelectorAll(".".concat(this.selector.slideClassName,"[slide='").concat(d[e].getAttribute("slide"),"']")).forEach(function(b){b.classList.add(a["var"].slideActiveName)}):d[e].classList.remove(this["var"].slideActiveName)}},{key:"swipe",value:function swipe(){function a(a){i.settings.swipe&&(clearInterval(i.timer),i.selector.track.style.transition="0ms",i.selector.slider.style.cursor="grabbing",h="mousedown"!=a.type&&a.changedTouches[0].clientY,d=i.settings.verticalSlider?a.clientY||a.changedTouches[0].clientY:a.clientX||a.changedTouches[0].clientX,i.selector.slider.addEventListener("mousemove",b),i.selector.slider.addEventListener("mouseup",c),i.selector.slider.addEventListener("mouseleave",c),i.selector.slider.addEventListener("touchmove",b),i.selector.slider.addEventListener("touchend",c),i.selector.slider.addEventListener("touchcancel",c))}function b(a){a.preventDefault(),f=i["var"].trackPosition-(d-(i.settings.verticalSlider?a.clientY||a.changedTouches[0].clientY:a.clientX||a.changedTouches[0].clientX)),i.trackMove(f),h&&!i.settings.verticalSlider&&60<Math.abs(h-a.changedTouches[0].clientY)&&i.selector.slider.removeEventListener("touchmove",b)}function c(a){g=i.settings.verticalSlider?a.clientY||a.changedTouches[0].clientY:a.clientX||a.changedTouches[0].clientX,console.log(a.type),i.selector.slider.removeEventListener("mousemove",b),i.selector.slider.removeEventListener("mouseup",c),i.selector.slider.removeEventListener("mouseleave",c),i.selector.slider.removeEventListener("touchmove",b),i.selector.slider.removeEventListener("touchend",c),i.selector.slider.removeEventListener("touchcancel",c),i.selector.track.style.transition="".concat(i.settings.slideSpeed,"ms"),d-g>(i.settings.verticalSlider?i["var"].slideHeight:i["var"].slideWidth)/6?i.next():i.trackMove(i["var"].trackPosition),d-g<-(i.settings.verticalSlider?i["var"].slideHeight:i["var"].slideWidth)/6?i.prev():i.trackMove(i["var"].trackPosition),i.selector.slider.style.cursor="grab"}var d,f,g,h,i=this;this.selector.slider.addEventListener("mousedown",a),this.selector.slider.addEventListener("touchstart",a)}}]),a}(),l=new k({selector:{slider:"discover-slider__wrapper",track:"discover-slider__track",slide:"discover-slider__slide",btnPrev:"discover-slider__button-left",btnNext:"discover-slider__button-right"},settings:{infinity:!0,slideSpeed:500,slideToShow:1,autoPlay:!0,autoPlaySpeed:3e3,swipe:!0,responsive:[{breakpoint:1200,settings:{}}]}}),m=new k({selector:{slider:"food-slider__wrapper",track:"food-slider__track",slide:"food-slider__slide",btnNext:"food-slider__button-right"},settings:{infinity:!0,slideSpeed:500,slideToShow:2,autoPlay:!0,autoPlaySpeed:3e3,swipe:!0,responsive:[{breakpoint:1100,settings:{slideToShow:1}},{breakpoint:660,settings:{slideToShow:2,verticalSlider:!0,swipe:!1}}]}}),n=new Date,o={day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear(),hours:n.getHours(),minutes:n.getMinutes()},p={day:document.querySelector(".date-select__day"),month:document.querySelector(".date-select__month"),year:document.querySelector(".date-select__year"),hours:document.querySelector(".time-select__hour"),minutes:document.querySelector(".time-select__minute"),meridiem:document.querySelector(".time-select__meridiem")};p.day.options[o.day-1].selected=!0,p.month.options[o.month-1].selected=!0,p.year.options[o.year-2020].selected=!0,p.hours.options[11<o.hours?o.hours-12:o.hours].selected=!0,p.minutes.options[o.minutes].selected=!0,p.meridiem.options[11<o.hours?1:0].selected=!0},!1);